<div class="commit" *ngIf="changeGroup.show(filter)">
  <div *ngIf="!chooseCommit">
    <blamelist-panel
        class="commit-panel"
        [commits]="changeGroup.commits"
        [range]="changeGroup.range"></blamelist-panel>
    <results-panel
        class="commit-panel"
        [changes]="changeGroup.filteredChanges(filter)"
        [range]="changeGroup.range"></results-panel>
  </div>
  <div *ngIf="chooseCommit">
    <blamelist-picker
        class="commit-panel"
        [commits]="changeGroup.commits"
        [range]="changeGroup.range"
        (selected)="selectedCommit=$event"></blamelist-picker>
    <results-selector-panel
        class="commit-panel"
        [changes]="changeGroup.filteredChanges(filter)"
        [range]="changeGroup.range"
        [selected]="selected"></results-selector-panel>
  </div>
  <div style="clear: both; padding: 8px">
    <material-button
        *ngIf="firestoreService.isLoggedIn && changeGroup.range.length > 1"
        raised
        style="text-align: center; clear: both"
        [disabled]="chooseCommit"
        (click)="chooseCommit = true">
      Narrow blamelist
    </material-button>
    <material-button
        *ngIf="firestoreService.isLoggedIn && changeGroup.range.length > 1"
        raised
        style="text-align: center; clear: both"
        [disabled]="!chooseCommit"
        (click)="pinCommit(selectedCommit.index, selected.toList())">
      Assign changes to commit
    </material-button>
  </div>
</div>
